{"version":3,"sources":["webpack:///./src/views/Article.vue?d845","webpack:///src/views/Article.vue","webpack:///./src/views/Article.vue?9683","webpack:///./src/views/Article.vue","webpack:///./src/views/Article.vue?5ba3"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_e","staticClass","_s","article","title","date","authorName","attrs","image","brief","domProps","text","_m","staticRenderFns","name","data","notFound","components","Subscribe","computed","moment","created_at","format","articleUrl","beforeRouteEnter","response","status","next","console","log","error","beforeRouteUpdate","axios","get","url","self","fail","load","methods","safe","getAuthorName","mounted","share","setAttribute","document","head","appendChild","watch","component"],"mappings":"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","file":"js/chunk-41dc9b6f.caaa4d78.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.notFound)?_c('div',[_c('p',[_vm._v(\"Sorry, the article you were looking for can't be found.\")])]):_vm._e(),(_vm.article)?_c('div',[_c('div',{staticClass:\"article-container\"},[_c('div',{staticClass:\"article\"},[_c('p',{staticClass:\"article-title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('p',[_vm._v(_vm._s(_vm.date)+\" â€¢ By \"+_vm._s(_vm.authorName))]),_c('img',{attrs:{\"src\":_vm.article.image}}),_c('br'),_c('br'),_c('p',[_c('i',[_vm._v(_vm._s(_vm.article.brief))])]),_c('br'),_c('br'),_c('div',{staticClass:\"article-content\",domProps:{\"innerHTML\":_vm._s(_vm.article.text)}})]),(_vm.article)?_c('div',{staticClass:\"sidebar\"},[_c('Subscribe'),_c('br'),_c('hr'),_vm._m(0)],1):_vm._e()])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"Share\")]),_c('div',{staticClass:\"sharethis-inline-share-buttons\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-if=\"notFound\">\r\n      <p>Sorry, the article you were looking for can't be found.</p>\r\n    </div>\r\n    <div v-if=\"article\">\r\n      <div class=\"article-container\">\r\n        <div class=\"article\">\r\n      <p class=\"article-title\">{{ article.title }}</p>\r\n          <p>{{ date }} &bullet; By {{ authorName }}</p>\r\n          <img :src=\"article.image\" />\r\n          <br>\r\n          <br>\r\n          <p><i>{{ article.brief }}</i></p>\r\n          <br><br>\r\n          <div class=\"article-content\" v-html=\"article.text\"></div>\r\n        </div>\r\n        <div class=\"sidebar\" v-if=\"article\">\r\n          <Subscribe></Subscribe>\r\n          <br/><hr/>\r\n          <div class=\"share\">\r\n            <p class=\"title\">Share</p>\r\n            <div class=\"sharethis-inline-share-buttons\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Subscribe from '../components/Subscribe';\r\nimport Axios from 'axios';\r\nimport {http} from '../../global';\r\n\r\nexport default {\r\n  name: 'Article',\r\n  data() {\r\n    return {\r\n      article: null,\r\n      notFound: false,\r\n      authorName: ''\r\n    }\r\n  },\r\n  components: {\r\n    Subscribe\r\n  },\r\n  computed: {\r\n    date() {\r\n      if (this.article) {\r\n        return this.moment(this.article.created_at).format('MMMM Do, YYYY, h:mm A');\r\n      }\r\n      return \"\";\r\n    },\r\n    articleUrl() {\r\n      return \"http://thehuskyhusky.com/article/\" + this.article.name;\r\n    }\r\n  },\r\n  beforeRouteEnter (to, from, next) {\r\n    const name = to.params.name;\r\n    const url = http + \"/articles/\" + name;\r\n    Axios.get(url)\r\n    .then((response) => {\r\n      if (response.status == 500) {\r\n        next(vm => vm.fail());\r\n      } else {\r\n        next(vm => vm.load(response.data.article));\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      next(vm => vm.fail());\r\n      console.log(error);\r\n    })\r\n  },\r\n  beforeRouteUpdate (to, from, next) {\r\n    const self = this;\r\n    const name = to.params.name;\r\n    const url = http + \"/articles/\" + name;\r\n    this.axios.get(url)\r\n    .then((response) => {\r\n      if (response.status != 200) {\r\n        self.fail();\r\n      } else {\r\n        self.load(response.data.article);\r\n      }\r\n    })\r\n    next();\r\n  },\r\n  methods: {\r\n    load(article) {\r\n      this.notFound = false;\r\n      if (this.safe(article.text)) {\r\n        this.article = article;\r\n      }\r\n    },\r\n\r\n    fail() {\r\n      this.notFound = true;\r\n    },\r\n\r\n    safe(html) {\r\n      // TODO\r\n      // returns true only if the raw html is safe to insert\r\n      return true;\r\n    },\r\n\r\n    getAuthorName() {\r\n      if (this.article) {\r\n        let self = this;\r\n        const author = this.article.author;\r\n        const url = http + \"/users/\" + author;\r\n        this.axios.get(url)\r\n        .then((response) => {\r\n          console.log(response);\r\n          if (response.data.name) {\r\n            self.authorName = response.data.name;\r\n          } else {\r\n            console.log(\"Error\", response);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Error\", response);\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getAuthorName();\r\n\r\n    let share = document.createElement('script');\r\n    share.setAttribute('src', 'https://platform-api.sharethis.com/js/sharethis.js#property=5e72532377bcc200125bda8a&product=inline-share-buttons');\r\n    document.head.appendChild(share);\r\n  },\r\n  watch: {\r\n    article: function(val) {\r\n      this.getAuthorName();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.article-container {\r\n  margin: 0 0 30px 0;\r\n  display: grid;\r\n  grid-template-columns: 4fr 1fr;\r\n  grid-column-gap: 1em;\r\n}\r\n\r\n.article-title {\r\n  font-family: \"Lora\";\r\n  font-size: 48px;\r\n  margin: 0 0 20px 0;\r\n}\r\n\r\n.article-content {\r\n  font-size: 18px;\r\n}\r\n\r\np {\r\n  font-size: 20px;\r\n}\r\n\r\n.article img {\r\n  width: 100%;\r\n}\r\n\r\n.sidebar {\r\n  padding: 2em;\r\n  background-color: #EEEEEE;\r\n}\r\n\r\n.title {\r\n  font-size: 20px;\r\n  font-family: 'Raleway';\r\n  text-transform: uppercase;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=e342458e&scoped=true&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=e342458e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e342458e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=e342458e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=e342458e&scoped=true&lang=css&\""],"sourceRoot":""}